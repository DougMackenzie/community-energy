'use client';

import { useState } from 'react';

/**
 * US State Load Request Data
 * Based on SemiAnalysis "Large Load Requests in the US (GW)" map
 * Values represent interconnection queue requests and projected data center growth
 */
const STATE_LOAD_DATA: Record<string, { load: number; label: string }> = {
  // Highest demand states (>50 GW requests)
  TX: { load: 230000, label: '230 GW' },

  // High demand states (30-70 GW)
  VA: { load: 65000, label: '65 GW' },
  GA: { load: 51000, label: '51 GW' },
  PA: { load: 42000, label: '42 GW' },
  NC: { load: 42000, label: '42 GW' },

  // Medium-high demand (15-30 GW)
  IL: { load: 28000, label: '28 GW' },
  IN: { load: 22000, label: '22 GW' },

  // Medium demand (5-15 GW)
  OH: { load: 13000, label: '13 GW' },
  AZ: { load: 12000, label: '12 GW' },
  NV: { load: 10000, label: '10 GW' },
  CA: { load: 9000, label: '9 GW' },
  NY: { load: 8000, label: '8 GW' },
  NJ: { load: 7000, label: '7 GW' },

  // Lower-medium demand (2-5 GW)
  TN: { load: 5000, label: '5 GW' },
  SC: { load: 4500, label: '4.5 GW' },
  WA: { load: 4000, label: '4 GW' },
  OR: { load: 3500, label: '3.5 GW' },
  CO: { load: 3000, label: '3 GW' },
  UT: { load: 2500, label: '2.5 GW' },

  // Lower demand states (<2 GW)
  FL: { load: 2000, label: '2 GW' },
  MD: { load: 1800, label: '1.8 GW' },
  MI: { load: 1500, label: '1.5 GW' },
  MO: { load: 1200, label: '1.2 GW' },
  WI: { load: 1000, label: '1 GW' },
  MN: { load: 900, label: '0.9 GW' },
  IA: { load: 800, label: '0.8 GW' },
  NE: { load: 600, label: '0.6 GW' },
  KS: { load: 500, label: '0.5 GW' },
  OK: { load: 400, label: '0.4 GW' },
  AR: { load: 300, label: '0.3 GW' },
  LA: { load: 250, label: '0.25 GW' },
  MS: { load: 200, label: '0.2 GW' },
  AL: { load: 180, label: '0.18 GW' },
  KY: { load: 150, label: '0.15 GW' },
  WV: { load: 100, label: '0.1 GW' },
};

// Get color intensity based on load (purple gradient)
const getStateColor = (stateId: string): string => {
  const data = STATE_LOAD_DATA[stateId];
  if (!data) return '#E8E8F0'; // Light gray for no data

  const load = data.load;

  // Purple gradient based on load thresholds
  if (load >= 100000) return '#581C87'; // purple-900 - TX
  if (load >= 50000) return '#6B21A8';  // purple-800
  if (load >= 30000) return '#7C3AED';  // purple-700
  if (load >= 15000) return '#8B5CF6';  // purple-600
  if (load >= 5000) return '#A78BFA';   // purple-500
  if (load >= 2000) return '#C4B5FD';   // purple-400
  if (load >= 500) return '#DDD6FE';    // purple-300
  return '#EDE9FE';                      // purple-200
};

// Accurate US state paths from standard SVG map data
const US_STATE_PATHS: Record<string, string> = {
  AL: "M628.6,466.4l-1.8-22.4l-2.4-20.3l-5.3,0.6l-28.8,3.3l-13,1.3l0.8,5.7l2.4,20.9l1.4,18.3l1.9,21.2l3.7,21.7l9.4-1l2.9,9.9l4.9,6.1l4-7.6l3.7,3.1l-1.9,5.5l10.9-0.4l4.5-1.6l0.2-12.5l-3.9-5.9l1.9-1.6l0.5-17.9l1.4-10.9L628.6,466.4z",
  AK: "M158.7,573.5l-0.3-2.5l-2.2,0.3l-1,2.1l0.6,1.5L158.7,573.5zM161.9,540.4l-0.9-0.2l-0.5,1.4l0.7,0.5L161.9,540.4zM68.5,499.3l3.5,2.4l3.8,0.7l2.2-1.7l-0.9-3.3l-5.3-1.7L68.5,499.3zM48.4,530.1l2.2,2.6l-1.9,3.3l-2.9,0.6l-1.3-2.1l1.7-3L48.4,530.1zM23.4,549l0.7,2.5l3.9-1.7l0.6-2.1l-2.4-1.1L23.4,549zM2.9,543l2.9,4.7l2.4-1.7l0.2-3l-3-1.9L2.9,543zM10,558.9l3.3,1.2l0.8-2.9l-2.7-1.8L10,558.9zM132.2,572.3l2.9,3.7l1.2-3.4l-2.2-2.9L132.2,572.3zM79.7,583.5l1.7,2.6l3.2-1.6l0.5-3.1l-2.5-1.7L79.7,583.5z M188.8,609.9l-49.6,11.9l-42.3-0.7l-3.1-3.2l-5.1-0.9l-7.7,4.6l-4.3-2.2l-1.1-5.9l3.7-3.8l-4.4-6.4l-3.6-0.5l-2.7,3.9l-9.2-1.3l-5.7,2.9l-8.2-3.9l-0.1-6.7l-5.9-5.8l-7.9-1.6l-7.6,0.6l-9.1-9.6l-4.9-8.5l-3.7-0.1l-7.8,9.5l0.6,6.5l-5-1.5l-2.4-8.7l-8.9-10.8l2-11.7l6.2-3.2l0.7-5.2l-7-7.9l-3.7,4.2l-5.9-6.9l0.9-5.7l7.9-0.3l3.9-5.5l7.4-4.2l7.9,0.9l6.6-3.7l0-5.9l-5.9-2.5l1.3-9.4l5.7-4.9l2-5.3l7.6-4.9l5.2,5.7l6.7-3.8l-1.6-5.7l-7.7-4.6l-1-8.6l8.2-8.1l-2.9-4.9l4.8-9.9l8.2,0.5l6.9-5.4l0.9-7.7l3.3-1.7l7.7,5.7l4.9-1.7l3.7-8.1l7.9-3.5l3.9,2.1l10.1,0.5l8.5-5.2l2.9,3l7.3-0.4l5.5,5.2l1.9,7.9l5.9,5.2l1.8,6.5l6.9,0.8l2.7,8.1l6.2,3.9l4.7,1.7l6.9-2.9l8.6,3.5l5.2,0.8l4.5,7.7l7.1,6.5l3.7,5.7l7.7,7.7l2.9,6.6l-1.1,8.1l3.3,5.3l-2.7,5.2l6.9,2.1l4.1,7.1l-3.9,10.2l-9.3,9.7L188.8,609.9z",
  AZ: "M213.9,437.5l-0.3,2.5l0.6,2.2l3.6,2.3l1.3,4.9l-0.9,4.5l-2.6,2.1l-0.8,5.9l-4.1,4l-1.2,3.9l0.3,3.9l-40.3,5.9l-26.7,2.5l-33.6,3.2l11.9-74.5l8.7-56.1l28.2,4.2l29,4.1l26.9,3.5l-2.9,17.9l-0.1,6.6l2.8,7l1,9.7l-0.2,14.4l-1.9,9.9l0.6,7.9L213.9,437.5z",
  AR: "M582.5,413.4l-6.2-0.2l-47.2,2.9l-28.3,0.9l0.4-7.9l-1-10.3l1.9-14.2l-1.1-8.6l2.7-17.9l45,0.8l29.9-1l5.8,0.4l-1.1,10.7l0.7,7.9l-4.4,10.6l0.9,4.7l5.9,5l0.2,3.2l-1.1,3.3l-0.9,8.4L582.5,413.4z",
  CA: "M135.1,380.5l-0.7-7.7l-2.9-6.6l0.4-3.9l-3.9-5.7l0.1-3.9l1.9-0.7l-0.9-5.2l-4.1-6.9l-2.2-6.1l-0.6-15.7l-3.1-8.6l-4.7-8.4l-1.5-8.1l-3.7-4.5l-0.2-4.1l2.1-4.4l-0.9-3.9l-3.7-3.5l0.6-1.5l5.1-9.1l0.6-6.9l-1.2-2.9l0.7-5.4l2.3-5.6l3.5-8.5l-0.7-7.6l-2.7-4.2l-1.2-4.7l-2-0.1l-1.9-3.9l1-3.2l-3.7-5.5l-0.9-5.7l18.5,2.6l30.1,4.7l21.4,3.2l22.9,3.1l-12.7,93.5l-8.7,56.1l-1.9,16.5l-13.3-18.9l-5-1.1l-6.4-5.9L135.1,380.5z",
  CO: "M381.6,313.5l-51.9-3.9l-53.2-5.1l-26.7-3.2l3.9-52.2l3.1-45l50.7,4.1l50.5,3.1l27.2,1.1l-1.2,51.6L381.6,313.5z",
  CT: "M852.2,226.6l-0.6-5.7l-2.4-9.7l0.7-2.7l-5.9-2.4l-15.2,4l-8,1.1l1.4,6.3l1.8,5.4l1.5,2.1l6.6,3.8l17.1-0.2L852.2,226.6z",
  DE: "M815.8,289.9l0.9-4.5l1.7-7.5l-0.9-4.3l-4.5-1.8l-4.2,4.1l-1.7,9.9l2.2,6.1L815.8,289.9z",
  FL: "M735.6,534.8l-5.9-4.3l-9.4-0.2l-4.9-3.1l-5.9-0.5l-3.9-3.5l-5.2-0.2l-7.8-5.2l-7.4-8.6l-5.6-9l-4.6-14.2l-4.5-3.5l0.5-4l-3.4-8.1l-0.4-7.5l1.5-3l-5.2-7.9l-1.5-8.5l2.5-2.5l60.9-7.3l17.2-2.3l5.1,4.4l5.9,8.9l6.7,3.9l4.9,5.5l9.2,4.9l2.7,3.7l-1.9,5.8l7.4,8.1l6.3,9l6.5,13l4.7,8.7l1.7,6.7l2.2,6.6l-0.3,6.9l2.9,10.9l0.2,8.9l2.5,3.6l-0.7,2.7l-2.9,3.1l0.9,4.9l-1.5,5.5l-3.6,4.7l-3.9-2.2l1.7-4.7l-4.5,4l-6.7,1.3l-2.5-3.5l-5.3,0.7l-6.9-1.9l-5.1,4.7l-4.2-1.5l-0.2-5.4l-4.5-3.5l-4.7,0.2l-2.7-4.7l0.7-5.9l-6.1-7.6L735.6,534.8z",
  GA: "M717.7,448.9l-3.6,0.4l-25.5,3.1l-20.3,2.5l-4.4-21.7l-1.9-21.2l-1.4-18.3l-2.4-20.9l-0.8-5.7l31.7-3.9l31.2-3.9l3.3,12.5l4.8,15.5l5.9,18.7l5.7,12.9l3.7,7.2l4.9,5.7l1.1,8.2l-6.3,1.5l-5.2-0.5l-3.1,2.7l-1.9,5.2l-4.6,1.2l-3.9-2.3L717.7,448.9z",
  HI: "M270.7,593.6l-5.4-4.1l-0.9-5.9l3.5-3.4l4.1,2.3l2.7,5.5L270.7,593.6zM283.2,579.5l3.7,3.1l3.2-2.9l-0.6-4.1l-3.5-0.9L283.2,579.5zM298.5,573.9l-4.3,3.5l5.1,3.7l4.7-2.9l-1.3-3.7L298.5,573.9zM307.7,583.2l3.9,5.9l6.2,0.8l1.9-3.4l-4.7-4.7L307.7,583.2zM329.9,596l8.9,6.7l3.9-1.7l1.5-4.4l-2.3-5l-7.7-2.4l-5.1,2L329.9,596zM363.5,611.5l5.6,6.3l2.2-0.6l4-4.5l-0.3-3l-5.5-3.7l-5.5,2.1L363.5,611.5z",
  ID: "M227.9,204.6l-3.7-1.5l-3.1-5.8l1.9-5.1l-3.9-1.2l-3.9-6.5l0.1-3.9l4.2-5.4l1.1-8.1l-2.1-2.5l-5.4,0.1l-2.6-5.5l0.4-5.2l-5.9-9.9l-6.1-3l-0.7-1.9l5.7-13.2l-1-4.5l3.3-3.5l-1-8.7l7.8-19l1.7-0.4l2.9,4.4l3.7,1.5l4.9-2.5l2.2,0.2l4.3,5.5l5.4,4.1l3.5,1.3l2.9-0.3l4.4-4.7l6.7-4.7l0.8-3.9l-4-10.9l-3.4-3.1l1-3l4.4-3.2l-0.2-2.2l25.9,5.9l27.7,5.4l-10.6,56.5l-9.9,49.5L227.9,204.6z",
  IL: "M601.8,310l-1.5-2.9l-1.1-5.7l1.5-5.9l3.9-4.4l1.4-7.4l-1.7-3.7l-1.1-4.9l2.3-2.5l-0.4-4.4l-3.5-3l-0.7-3.2l1-12l-3.1-7.1l-4.3-5.3l0.5-5.5l2.9-4.5l-0.4-3.5l-4.7-4.1l-2.5-6l-36.9,3.3l-18.7,0.8l0.9,4.6l3.9,6.5l0.2,7.3l4.9,6.7l1,10.8l-4.2,4.5l-1.1,5.4l4.7,7.3l5,16.4l8.2,9.9l6,6l-0.2,10.9l1.7,4.9l-1,5.9l8.9,1.9l7.1,0.9l14.2-1.7L601.8,310z",
  IN: "M633.2,315.3l-1.5-4.2l1-5.9l-1.7-4.9l0.2-10.9l-6-6l-8.2-9.9l-5-16.4l-4.7-7.3l1.1-5.4l4.2-4.5l-1-10.8l0.7-6.9l28.3,1.7l24.3,0.9l2.5,6.6l5.3,6.8l0.2,5.2l-3.6,4.5l0.4,3.9l3.5,1.6l1.9,8.6l-0.9,9.6l-4.7,11l0.9,3.9l-2.9,3.7l-5.3,7.4l-3,9.3l-2.9,12.7l-5.5,1.9l-14.2,0.9L633.2,315.3z",
  IA: "M547.2,224.1l0.5-4.7l3.5-6.4l-0.6-5.7l-3.9-4.9l-0.2-4.7l-4.9-7.8l-4.1-2l-2.2-3.7l-1.4-4.9l-1.7-4.2l-49.7,2.5l-50.4,0.6l1.4,4.9l4.9,3.4l1,3.1l-1.9,5.5l-0.2,4.5l3.9,6.7l3.6,3l0.3,3l-3.7,4.5l-1.2,4l0.5,3.1l4.3,4l0.3,3.2l-5.2,3.3l-0.7,2.9l2,1.5l51.8-1.9l48.2-2.5L547.2,224.1z",
  KS: "M500.3,356.3l-58.5,0.2l-56.9-1.9l-28.4-1.2l2.3-49.5l1.2-40.3l30.7,1l56.4,1.2l53.2,0.2l-0.4,9l1.4,7.6l-3.9,6l0.9,4.9l5.3,6.9l2.2,1.7l-0.5,6.7L500.3,356.3z",
  KY: "M693.9,350.7l-6.5-0.7l-2.7,5.7l-5,0.4l-3.5-1.9l-6.4,3.7l-5.5-1.5l-1,5.9l-7.2,4l-2.9-1.2l-3.1-3.9l-8.1-0.5l-11.2,3.5l-5.7-1.5l-5.5,4.4l-4.7-4l-18.8,1.5l-5.5-1.6l-5.5,3.9l-7.9,1l-4.7-5.5l-9.2-0.5l-32.5,2.3l2.5-5.4l6.5-5.2l3.2-9.9l5.2-4.9l0.4-4.3l4-0.7l4.2-5.5l7.6,4.2l6.5,1.7l4.3-6.5l6.5,0.4l3.9-3l2.7,0.2l2.9,4.5l6.4-0.9l6-4l4.8-0.5l24.4-2.9l40-3.4l18.1-1.9l7.7,4l-3.3,5.7l-6.4,4l-0.2,4.9l4.3,2.1L693.9,350.7z",
  LA: "M586.7,513.5l-1.1-10.3l-4.5-5.7l-0.9-8.9l-4.7-6.9l2-5.1l-3.4-1.9l0.5-3.5l-3.2-0.9l-2.5-7.9l4.9-3.2l-0.4-6.7l3.1-6.4l-0.7-2.5l-41.5,1.2l-25.4,0.5l-0.4,6.7l2.9,5.4l6.4,4l1.4,7l-1.4,8.6l1,5.4l-10.4,4.3l0.7,4.7l-4.7,5.5l2.2,3.8l6.7-1.6l13-0.4l10.2,4.9l7.5,1l7,3.2l2.7-2.5l5,0.2l2,3l5.9-0.9l2.7-4.3l6.6,2.4l0.9,3.7l3.5-0.4l4.5,3.2l-2.3,6.1l2.5,3.3l-1.9,2.2l3.1,2.1l-0.9,4.6l3.7-1.1l8.1,3.7l2.1-1.5l-2.2-3.2l-1.9-5.8l-2.9,0.4l-2-5.9l2.2-0.9L586.7,513.5z",
  ME: "M893.3,152.9l2.9-3.5l2.3-4.3l-2-5.7l3.2-7.4l-2.5-6.9l-1.9-6l1.5-5l-3.5-1.2l-0.9-4.2l-0.3-14.9l-2.7-5.2l-8.5-22.7l2.5-4.5l-2-5.2l3.7,1.9l4.5,6.6l5.5,0.1l1.3,3.4l-3.5,4.5l1.2,5l-2.3-0.6l-0.9,3.3l2.5,3.1l0.7-3.7l3.2,1.1l4,4.6l2.2,5.6l-0.6,6.4l3.7,0.3l0.5,3.5l-2,2.4l2.9,6.1l-0.4,3.9l-2.1,2.5l0.2,7.9l3.7,0.2l3.5,4.4l6.2,16.5l-2,4.5l-3.5,1.2l-1.9-2l-3.6,4.1l0.2,3.7l-3.5-0.7l-5.5,3.2l-1.1-3.4l-3,1L893.3,152.9zM907.3,102l1.5-2l2.1,1.6l-0.4,2.2L907.3,102zM918.7,94.3l2.2,3.4l0.6,2.5l-2.1,1.2l-1.9-3.9L918.7,94.3z",
  MD: "M820.2,291.4l-4.7-10.3l-6.4-1.4l-3.8,0.9l-3.6-2.6l-3.9,4.2l-1.9-1.7l0.6-5.1l-4.2-0.9l-1.3-3.9l-3.9,4.4l-6.9,1.4l-4,4.9l-3.7-1.2l-6.1,3.7l-5.7,0.7l-8.6-2.9l-3.7-1.2l0.5-4.9l-21.7,4.2l-1.9,6.9l3.3,0.7l5.3,4.6l4.9,3.3l5.9-4.6l3.4,0.7l4.5,4.3l7.6,3l6.3-0.5l8.7-4.9l2.2-7.5l3.9,8l9,0.2l3.7-3.9l-0.7-3.9l1.7-1.2l2.9,5.7l-2.7,1.9l1.5,3.9l3.1-0.7l2.4,4.9l2.5-0.6l0.5,6.9l9.5,2.3l2.6-0.1l1.2-5.9L820.2,291.4zM819.9,295.9l-1.7,3.1l0.2,2.4l1.9,1.7l2.3-3.5L819.9,295.9z",
  MA: "M888.9,201l2.9-0.3l1-2.1l2.1,0.7l1.1,2.2l-3.2,1.1L888.9,201zM877.9,201.7l3.5-0.9l0.6-2.3l-1.7-1.3l-3.3,1.5L877.9,201.7zM852.3,187l1.7-3.7l2.3,0.7l10.7-3.8l5.1,0.2l6.6,6.5l5.5,5.5l2.9,0.2l2.9,2.7l-2.2,0.5l-2.7-2.7l-4.5-0.2l1.2-2.9l-3.2,2.5l-5.2-0.4l-3.5,3.9l-4.1-0.4l-1.9,3.7l-3.1-0.2l-2.1,4.4l-3.9-2.7l-4.8-0.2l-8.4,2l-14,3.8l2.4-6.2l2.2-0.6l3.5-3.7l3.7,0.4l9.2-3L852.3,187z",
  MI: "M602.3,192.7l6.4-4.3l4.7-4.1l5.9-8.1l3.7-1.9l0.9-4.1l-0.5-4.5l-5.1,2.4l-6.1,4.9l-4.5,3.5l-2.1,5.3l-4.7,5.3l-2.8,2L602.3,192.7zM555.2,131.9l0.9-4.3l4.8-1l3.5-4l1.9-0.3l1.5,2.5l-4.9,4.9l-4.2,2.5L555.2,131.9zM571.3,192.2l-1.4-25.4l-2.4-3.4l-3.7-1.9l-1.1-5.3l3.9-2l0.9-4.3l0.5-5.7l3.5-1.6l4.5,5.6l6.5,1.9l3,0.2l3-1.9l3.9,0.4l4-0.5l2.6,1.3l0.2,4.8l1.7,2.9l-0.5,3.7l1.4,2.4l-0.2,4l1.5,4.9l-0.9,5l1.9,5.1l-0.9,4.5l1.9,5l-0.5,2.7l-1.9,0.2l-4.7-1l-5.9-0.4l-3.2,0.4l-3.8,3.4l-4.6,1.3l-0.6-2.1l-4.9-1.2L571.3,192.2zM634.6,186.9l5.1-5.5l3.1-5.7l-0.5-5.1l-0.7-1.4l-4.8,2l-2.4,6l-3.4,5.9l-1.3,5.4L634.6,186.9zM648.7,120.7l4.3-0.9l3.7,5.7l0.5,8.3l-3.3,7.5l1.7,5.3l-1.7,9.5l-3.9,5.2l0.2,4.5l3,1.2l7.5-3.2l1.4-3.4l3.7-2l2.6,1.7l5.7,0.7l5.7-1.7l5.4-3.4l4.1-0.6l6.6-4.4l3.5-4.9l-1.2-2.9l-6.1-1l-0.9-5l1.3-3.4l1.3-4.4l-1-3.9l-3.9-1.4l-1.2-3.5l-4.8,0.4l-5.6,4.8l-5.6,1.9l0.5-7.7l4.8-3l1-5.5l0.7-4.4l3.1-0.6l5.1,2.4l2.5-1.5l6.5,1.5l3.5-3.5l4.9-1.9l4.6,0.5l0.2,2.2l3.6,4.4l-3.7,3.5l-6.6,3.5l-4,5.4l0.1,8.7l2,2l-0.4,3.5l-3.5,6.3l2.5,4.4l-1.2,4.5l0.9,3l-2.5,5.7l1.7,7.4l3,5.2l0.8,5.2l-2.1,4.1l1.7,2.7l-1.4,3.6l-3.5,1l-6.7,0.7l-5.5-1.9l-7.5-0.5l-9.9,1.8l-5.7,0.4l-5.4-2l-4.5-0.9l-3.7,2.5l-4.8,0.7l-2.1-0.7l-14.9-0.8l-11.9-1.3l-0.2-2.8l3.1-6.6l2.8-3.7l1.3-4.7l-0.2-8.6l-1.9-2.9l-1.4-4.6l1.9-1.5l6,1.9l6.3,0.2l1.3-2.5l5.5-2.3l2.8-5.2l0.2-5.2l2.5-7l4.2-4.5L648.7,120.7z",
  MN: "M509.7,184.3l-0.9-6l-4.4-11.1l-1.1-6.8l-2.3-14l-1.2-11.4l-2.9-4.5l-2.3-12.1l0.1-10l1.1-1.9l0.2-5.1l-3.3-6.6l-0.1-8.5l0.5-1.5l40.9-0.6l0.5-9.6l2.5,0.2l1.1,5.5l2.3,3.7l7.4,1.1l0.9,3.9l10.5,0.2l0.2,4l3.9,3.3l5.5,0.9l2.6,3.4l3.9-0.5l5.7,4.3l3.9,5.7l1.5,7.6l3.7,5.4l0.6,6.5l-2.5,2.7l-0.6,3.4l0.4,3.3l-7.9,2.7l-10.2,4.1l-3.6,4.5l-3.7,7l-1.3,7l1.5,5.3l0,6.5l-3.9,3.5l-0.8,3.6l-3.7-0.4l-50.4,0.6L509.7,184.3z",
  MS: "M582.5,413.4l1.6-1.8l0.9-8.4l1.1-3.3l-0.2-3.2l-5.9-5l-0.9-4.7l4.4-10.6l-0.7-7.9l1.1-10.7l23.9-1.1l15.1-1.1l-0.2,4.4l3.6,6.6l1.7,5.6l-1.4,16.5l-0.1,20.3l3.3,9l4.9,3.2l1.3,7.5l5.8,4.9l-0.5,3.7l-5.2,2.4l0.2,4l-5.3,12.6l0.1,3.4l-23.4,3.2l-14.3,0.7l-1.1,10.3l2.2,4.9l-3.9,1.2l3.1-6.4l-0.4-6.7l-4.9,3.2l2.5,7.9l3.2,0.9l-0.5,3.5l3.4,1.9l-2,5.1l4.7,6.9l0.9,8.9l4.5,5.7l-15.7,1.9l-10,0.8l-0.5-3.7l-5.5-0.7l-3.5,2.7l-4.2-1.1l0.7-4.3l-3.9-8.5l2.7-18.5l3.1-3.9l-0.2-5.3l2.7-7.6l0.2-8.6l3.8-7.5l-2-5.4l0.2-4L582.5,413.4z",
  MO: "M593.9,308l-1,3.8l-14.2,1.7l-7.1-0.9l-8.9-1.9l-49.2,2.1l-12.1,0l0.3-7.6l0.5-6.7l-2.2-1.7l-5.3-6.9l-0.9-4.9l3.9-6l-1.4-7.6l0.4-9l48.4-0.2l-2-5.6l-4.9-3.7l-1.9-2.9l-1-5.7l-4.2-5.7l-3.2-3.3l0.2-3.2l50.7-1.4l0.5,4.1l4.7,4.1l0.4,3.5l-2.9,4.5l-0.5,5.5l4.3,5.3l3.1,7.1l-1,12l0.7,3.2l3.5,3l0.4,4.4l-2.3,2.5l1.1,4.9l1.7,3.7l-1.4,7.4L593.9,308z",
  MT: "M311.4,148.5l-0.8-13.2l-2.2-22l-2.4-26.9l-1.7-15.4l-1.2-19.7l49.6,5.3l48.9,3.7l24.5,1.3l-3.3,46.7l-5.5,58.7l-58.5-5l-45.9-5.5L311.4,148.5z",
  NE: "M433.6,263.2l-56.4-1.2l-30.7-1l-28.2-1.7l4.4-45.6l2.7-30.5l27.3,2.1l51.2,2.5l50.5,0.9l-0.9,8.3l-1.3,8.7l0.7,5.1l4.4,5.7l4.8,3.4l1.5,3.9l4.8,3l0.4,5l-31.9,0.7L433.6,263.2z",
  NV: "M167.6,350.1l-21.4-3.2l-30.1-4.7l8.7-49.9l10.9-60.6l7.2-37.6l17.5,3.2l35.9,5.9l-7.9,40.3l-5.6,34.9l-1.6,4.2l4.9,6.3l-0.3,3.1l-1.2,1.7l0.7,2.5l-2.7,6.7l1.3,5.7l-2.7,6.6l2,7.3l-3.7,6.9l2.2,3.9l-1.6,5.4l-6.9,12.5L167.6,350.1z",
  NH: "M876.6,177.5l0.5-3.5l-1.4-6.5l1.4-3.5l-1-9.5l-3.2-3.9l1.5-3l-0.4-2.5l-4.4-1.9l0.4-5.2l-2-14l-1.4-5.7l0.4-3.9l-1.9-2.5l0.7-7.5l-0.5-8.2l1.8-3.9l-0.5-4.8l2.7-3l0.7,1.4l4.9,1.9l1,4.4l5.9,15.6l3.1,3.2l1.2,4.9l0.3,14.9l0.9,4.2l3.5,1.2l-1.5,5l1.9,6l2.5,6.9l-3.2,7.4l2,5.7l-2.3,4.3l-1.5,2.7l-5.1,0.3l-2.5,3.2L876.6,177.5z",
  NJ: "M830.9,249.5l1.5-3.9l2.2-1.9l-0.9-4.5l-2.5-1.5l0.3-3.5l2.6-2.1l1.8-3.7l3.6,3.6l6.6,3.2l3.6,1l0.5,5.9l-3.1,3.5l0.3,2.7l-0.5,5.5l-1.7,5.5l1.1,4.2l3.9,2.6l2.6,5.5l2.7,3.6l-0.5,3.3l-3.8,0.6l-2.1,3.7l-3.2,1.5l-1.8-2.3l-0.9-7.9l-2.7-3l-1.5-6.3l-3.9-5.4l-0.2-5L830.9,249.5z",
  NM: "M298.8,460.4l-1.2-8.1l-6.5-42.7l7.6-0.8l-3.7-36.7l-2.9-27.9l25.2,2.3l52.2,4.9l26.4,1.9l-4.7,53.9l-3.3,47.1l-42.9-3.6l-0.7,5.9l-48.1-4.5L298.8,460.4z",
  NY: "M832.7,234.3l-3.6-1l-6.6-3.2l-3.6-3.6l-3.2,1.9l-4.7,1.6l-4.9-2.5l-26.7,5.6l-35.7,7.5l-8.9,1.3l0.2-3.5l3.4-2.9l2.3-2.9l2.6-5.9l4.5-4.5l4-3l3.5-1.7l5.6-1l4.1-3.8l6.9-2.2l7.9-0.5l6.7-3.2l4.6-0.2l3.9,2.5l4.7-1.3l3.3-3.5l6-3.7l4.3-5.4l3.1,1.6l3.9-3l0.4-5l3.9-4.5l0.4-4.4l-3.4-3.9l0.7-1.4l-1.7-3.9l6.8-1l17.1-3.5l4.7-0.3l3,3.4l5.9,1.2l1.1,4.9l-5.1,4.5l-0.9,4l1.9,6l-0.2,4.2l0.7,4.5l-0.9,7.6l0.5,4.8l-1.8,3.9l0.5,8.2l-0.7,7.5l1.9,2.5l-0.4,3.9l-2.1-1.9l-4.4-0.7l-2.2,2.9l-5.9,0.5l-2.7-2.5l-2.9,0.9l-3.7,4.7L832.7,234.3zM851.6,211.6l2.9-2.4l-0.5-2.2l-1.5-0.4l-2.4,2.7L851.6,211.6zM864.9,199.1l2.3,2.5l1.5-0.2l1.4-2.7l-1.2-1.4l-2.9,0.2L864.9,199.1z",
  NC: "M833.7,371.1l-3.4,6.6l-5.7,9.9l-4,3.7l-2.5,3.4l-4.9,1.2l-1.3,3.7l-5.1,5.3l-2.6-0.2l-2.4,3.3l-1.9-1l-3.5,3l-6,0.5l-6-1.9l-7.3,3.9l-5.7,1l-5.7,4.2l-6.4,1.1l-6,3.2l-3.4,3.2l-14.9,4.9l-6.7,0.4l-2.6-0.4l-3.6,3.2l-10.2-3.5l-2.5-2.2l-4.9,5.2l-5.5,1.7l-4.5-0.4l-0.7-4.1l-8.2,0.6l-24.3,2.4l3.7-5.2l1.9-8.3l5.8-0.7l13.2-3.4l12.1-0.9l8.4-4l9.4-1.9l5.4-6.3l1.5-5.4l5.2-2.5l2.9-3.2l8.5-0.4l6.6-3.2l2.7,2.7l5.3-0.6l3.3-4.5l1.2-5.9l5.2-0.8l4.3,3l6.8-3.4l9.5-1l6.2,0.1l1.9-5.3l7.9-2.5l2.7-2.5l5-0.5l1.5,3.9l11.4-1.5l21.9-2.6L833.7,371.1z",
  ND: "M458.4,139.2l-0.7-6.1l-3.2-11.1l0.4-6.9l1.4-8.4l-1.5-6.7l-2.3-11l38.5,0.9l38.9,0.1l0.5,1.5l0.1,8.5l3.3,6.6l-0.2,5.1l-1.1,1.9l-0.1,10l2.3,12.1l2.9,4.5l1.2,11.4l-40.9,0.6l-40.8-0.7L458.4,139.2z",
  OH: "M718.7,275.7l-4.1,3.6l-3.1,6.7l-5.4,3.1l-2.8,4.4l-4.7,1.9l-4.6,3.1l-5.7,0.9l-0.2,3.4l-3.6,3.3l1.2,3.4l-7.9,5.7l-2.5,3.3l-7.3-0.2l-18.1,1.9l-2.2-0.7l-1.9-3.3l2.9-12.7l3-9.3l5.3-7.4l2.9-3.7l-0.9-3.9l4.7-11l0.9-9.6l-1.9-8.6l-3.5-1.6l-0.4-3.9l3.6-4.5l-0.2-5.2l-2.5-4.8l19.4-2.6l22.1-2.9l14.3-2.1l7.5,31.9l3.5,6l-5,5.9L718.7,275.7z",
  OK: "M379.3,404.2l-35.3-1.8l-1.6-21.4l56.9,1.9l58.5-0.2l5,48.6l-0.4,7.9l-9.2-0.3l-13.8-2.2l-4.7,6.9l-8.6,2.7l-2.4-3.9l-7.5,3.6l-1.9-5.6l-6.9,2.9l-4.3-5.9l-6.4,0.7l-4.4-4.6l-5.4,4.2l-6.1-5.9l2.9-3.4l-1.4-5.6l4.5-1.9l0.6-4.2l-5-6.2L379.3,404.2z",
  OR: "M107.5,212.1l-4.3-1.4l-6.1-3.1l-2.6-3l-0.6-4.7l-6.3-4.5l1.5-6l-1.2-1.9l0.4-4.7l4-5.3l1.6-10.5l3.7-0.2l3.7-3.3l6.6,1.2l3.7-2.5l8.4,1.4l1.2-3.4l2.8-0.9l0.6-7.9l5.4-8.9l8.3,1.5l8.2,0.3l3.9,2.3l7.2,0.4l0.5,3.4l5.6,3.7l5.7-0.2l-1,8.7l-3.3,3.5l1,4.5l-5.7,13.2l0.7,1.9l-3.4,1.2l-7.9,40.3l-35.9-5.9L107.5,212.1z",
  PA: "M830.9,249.5l2.3,6.2l-0.5,5.5l-2.6,2.1l-0.3,3.5l2.5,1.5l0.9,4.5l-6.4,5.4l-6.9,5.2l-7.5,4.7l-8.2,3.5l-4.5,3.2l-3.9-0.5l-3,2.3l-47.7,9.6l-16,2.9l-3.9-19.9l-2.7-16.1l8.9-1.3l35.7-7.5l26.7-5.6l4.9,2.5l4.7-1.6l3.2-1.9l1.8,3.7l2.4-0.4l1.7-5.5l0.5-5.5l-0.3-2.7l3.1-3.5L830.9,249.5z",
  RI: "M871.5,211.9l-1.9-7.3l-0.4-4.9l4.1-1.9l1.9,3.3l2.7,5.1l-0.1,2.6l-3.4,1.9L871.5,211.9z",
  SC: "M724.9,449.6l-7.2-0.7l-3.1,2.7l-1.9,5.2l-4.6,1.2l-3.9-2.3l-7-1.5l-25.5,3.1l-3.7,7.2l-4.9-5.7l-3.7-7.2l-5.7-12.9l-5.9-18.7l-4.8-15.5l-3.3-12.5l24.3-2.4l8.2-0.6l0.7,4.1l4.5,0.4l5.5-1.7l4.9-5.2l2.5,2.2l10.2,3.5l3.6-3.2l2.6,0.4l6.7-0.4l14.9-4.9l3.4-3.2l6-3.2l6.4-1.1l1.3,6l-2.9,7.6l0.6,6.2l4.9,3l-2.7,11.3l-4.1,9.1l-8.6,2.7l-3.6,4.7l-2.9,6l-3.3,9L724.9,449.6z",
  SD: "M457.6,213.9l-1.4-4.9l-50.5-0.9l-51.2-2.5l2.3-30.3l1.1-23.9l-0.2-13.4l40.8,0.7l40.9-0.6l2.3,14l1.1,6.8l4.4,11.1l0.9,6l3.5,5.1l-0.1,6.3l-3.4,4.4l-0.1,4l4.6,8l0.2,4.5L457.6,213.9z",
  TN: "M574.7,364.3l4.7,4l5.5-4.4l5.7,1.5l11.2-3.5l8.1,0.5l3.1,3.9l2.9,1.2l7.2-4l1-5.9l5.5,1.5l6.4-3.7l3.5,1.9l5-0.4l2.7-5.7l6.5,0.7l0.5,3.2l-4.3-2.1l0.2-4.9l6.4-4l3.3-5.7l-7.7-4l40-3.4l-0.2,3.9l-3.5,3.9l0.3,3.4l-1,2.6l-8.2,4.6l-4.7,1.6l-1,4.9l-6.7,5.6l-3.5,0.4l-4.9,5.7l-1.5,2.4l-10.2-0.6l-7.2,3.9l-3.2-2l-3.4,0.7l-0.9,3l-5.1,1.2l-2.9-1.9l-6.7,3.1l-10.7,1.2l-5.4,2.5l-2.8,3.5l-11.5,1.2l-25.8,2.5l-2.4-10.9l1.4-8.6l-1.4-7l-6.4-4L574.7,364.3z",
  TX: "M267.7,546.6l24.4,1.7l26.7-0.4l1.7,2.3l7.7,2.7l4.8,0.5l4.1-5.9l7.8-1.8l1.9-2.7l1.7,1.3l-1.3,8.8l2.7,1.3l2.6-1.9l2.2,0.9l2.2,4.2l4.3-3.2l3.9-0.1l2.6,2l3.7-3.9l7.2,2l5.9,6.6l4.4,1.2l2.7-1.8l7.3,1.2l3.7,4.1l-1.6,9.2l2.7,5.2l-0.7,3.9l3.4,6.2l2.3,1.2l0.7,3.5l4.3,5.1l2.1,7.5l4.9,3.3l-1.5,4.5l-3.3-0.3l-7.7-4.5l-5.3,1.7l-2.7,2.4l-3.6-1.7l-5.9,0.7l-5.9,5.5l-3.5,4.7l-2.1,0.9l-1.9,5.1l-4.9,5.2l-0.4,3.3l3.9,4l-2.6,4.5l-2.4,3.5l-1.7,6.3l-0.3,5.3l1.8,2.3l0.4,5l-4.9,2.7l-7.5,0.6l-6.6,2.4l-2.9,1.7l-3.1-0.5l-7.7,3.2l-6.6,6.3l-6.9,2.4l-2.2-1.1l-3.7,1.9l-3.7-3.9l-3.9,0.5l-1.7-3.8l-8.9-4.2l-5.9,2.9l-0.7,4.6l-7.3-3.7l-6.9-0.9l-3.2-4.6l-5.1-0.2l-5.7-6l-2.4-0.1l-3.9-6.9l-3.5-3.9l-3.7-0.5l-0.4,3.3l-2.5-2l0.5-4.7l-5.1-10.9l-3.2-1.9l-1.6-4.3l-4.3-0.8l-8.2-5.7l-3.5-5.4l-6-3.2l-2.3-4.8l-5.7-4.5l-4.3-6.8l-3.7-1.9l-0.9-4l-7.2-8.9l-1.1-4.4l-3.2-1.7l1.7-4.2l-5.8-7.3l0.7-4.9l-1.7-3.9l0.9-6.9l-5.4-4.4l-0.8-5.4l-6.1-8.5l1.6-8.2l48.1,4.5l0.7-5.9l42.9,3.6L267.7,546.6z",
  UT: "M249.6,350.3l-52.2-6.8l7.5-47.8l5.6-34.9l7.9-40.3l33.3,5.1l28.2,4.2l-3.9,52.2l-0.6,3.9l5.2,4.5l-1.2,3.4l0.5,4.7l-5.9,0.2l-1.3,3.1l5.3,9.1l-26.9-3.5L249.6,350.3z",
  VT: "M857.5,177.7l-0.7-4.6l-2.2-9.4l1.9-3.9l-3.5-7.6l0.7-5.5l0.5-6.7l0.1-3.9l-1.7-5.5l-3.3-4.5l-2.5,0.7l-3.6-2.9l0.2-5.9l17.1-4.5l1.2,4.7l-1.6,6.4l4.8,1.9l0.4,2.5l-1.5,3l3.2,3.9l1,9.5l-1.4,3.5l1.4,6.5l-0.5,3.5l-0.7,9.9l-0.2,1.7l-5.9,0.5L857.5,177.7z",
  VA: "M755.8,346.3l2.3-4.9l4-4.3l2-7.9l4.2-5.9l1.7-5.2l-2.9-4.9l3.2-5.2l4.9-0.9l5.7-5.5l6.6-9.7l2.6-2.1l1.1-3.7l7.9,0.2l4.9-2.1l4.2,0.4l0.7,2.8l4,1.8l1.9,5.9l7.1,2.4l3.1-1.4l-0.5-6.9l-2.5,0.6l-2.4-4.9l4.7-2.5l2.7,2.7l7.5,0.9l3.7-0.5l0.1-3.1l-1.7-1.7l6.3-9.9l1.7,3.7l5.4,0.3l0.2,5.9l3.9,1.1l-4.4,8.7l0.6,10.4l-2.9,0.7l-0.9,2.4l-8.6,0.7l-12.7,6.2l3.1,5.6l-3.9,1.4l-0.4,5.4l-4.5-0.2l0.4,4.5l-10.9,1.4l-2.7,2.5l-7.9,2.5l-1.9,5.3l-6.2-0.1l-9.5,1l-6.8,3.4l-4.3-3l-5.2,0.8L755.8,346.3zM820.7,289.1l2.5,6.3l0.5,3.9l3.9,4.4l-0.7,5.9l-2.9,0.5l-3-3.5l0.6-5.5l-2.1-4.9l-1-6.9L820.7,289.1z",
  WA: "M168.7,83.6l-5.8-1.5l-3.9,0.7l-2.7,3.2l0.2,4.2l-3.5,2.1l-3.2,0.6l-1.3,7.2l-4.9,1.2l-1.8,2.5l0.2,5l-7,0.8l-7.3-0.3l-5.9-2.9l-5.6,1.7l-4.5-0.7l-4.9,2.5l-5.7-0.7l-4.9,1.8l-4-4.9l0.3-5.5l-5.7-0.9l-4-0.9l-0.8-5.4l-2.6-0.8l-6.3-1.5l1.6-8.7l-2.3-2.4l1.1-5.6l-1.9-4.9l1.1-1.5l0.9-8l2.5-0.8l-0.9-3.7l2.5-9.3l2.7-3.9l1.7,0.5l3.9-2.7l5.1,1.5l3.8-3l3.5,0.7l2.7,4.3l4.9,1.6l3.9-0.5l2.6,2l7.3,1.7l2.9,2.1l5.6,0.7l4.7,2.9l6,1.5l3.3-0.3l4.5,2.3l7.9,0.9l-2.3,10.5l27.7,5.4l25.9,5.9l-2.1,11.3L168.7,83.6z",
  WV: "M756.6,347.2l-4.2-3.6l-2.3,4.9l-1.2,5.9l-3.3,4.5l-5.3,0.6l-2.7-2.7l-6.6,3.2l-8.5,0.4l-2.9,3.2l-5.2,2.5l-1.5,5.4l-5.4,6.3l-9.4,1.9l-8.4,4l-12.1,0.9l-13.2,3.4l-5.8,0.7l-1.9,8.3l-0.4-3.2l-0.5-3.2l6.5-0.7l0.2-3.4l5.7-0.9l4.6-3.1l4.7-1.9l2.8-4.4l5.4-3.1l3.1-6.7l4.1-3.6l2.3-6.5l5-5.9l-3.5-6l-7.5-31.9l16.4-2.5l3.9,19.9l16-2.9l0.5,4.9l3.7,1.2l8.6,2.9l5.7-0.7l6.1-3.7l3.7,1.2l4-4.9l6.9-1.4l3.9-4.4l1.3,3.9l4.2,0.9l-0.6,5.1l1.9,1.7l-4.9,0.9l-3.2,5.2l2.9,4.9l-1.7,5.2L756.6,347.2z",
  WI: "M604.9,186.5l-2.8-2l4.7-5.3l2.1-5.3l4.5-3.5l6.1-4.9l5.1-2.4l0.5,4.5l-0.9,4.1l-3.7,1.9l-5.9,8.1l-4.7,4.1L604.9,186.5zM566.7,229.7l-0.9-4.6l-2.5-2.7l-0.6-6.5l-3.7-5.4l-1.5-7.6l-3.9-5.7l-5.7-4.3l-3.9,0.5l-2.6-3.4l-5.5-0.9l-3.9-3.3l-0.2-4l-10.5-0.2l-0.9-3.9l-7.4-1.1l-2.3-3.7l-1.1-5.5l-2.5-0.2l-0.5,9.6l3.8,2.7l-0.8,3.3l1.7,3.5l-0.6,3.7l-3.3,5.8l-1.3,6.9l0.7,2.5l4.5,1.7l1.1,3.5l-0.5,7.6l1.7,2l-0.9,3l2.4,1.5l5.3,0.2l2.4,6.3l-0.3,4.9l3.3,2.2l5.7,0.5l2.3,5.6l8.5,2l3.5,4.4l0.5,3.3l3.6,1.2l2.7-0.7l6.4,3.3l2.1,3.7l0.5-0.6l0.8-3.6l3.9-3.5l0-6.5l-1.5-5.3l1.3-7l3.7-7l3.6-4.5L566.7,229.7z",
  WY: "M315.5,247.1l-3.3-41.9l-2.4-25.7l50.7,4.1l50.5,3.1l27.2,1.1l-1.2,51.6l-2.4,49.5l-28.4-1.2l-3.1,45.3l-51.9-3.9l-27.1-2.9L315.5,247.1z",
  DC: "M793.6,301.3l-1.2-1.5l1.4-2.5l2.3,0.5l0.5,1.7L793.6,301.3z",
};

interface USDataCenterHeatMapProps {
  className?: string;
}

export default function USDataCenterHeatMap({ className = '' }: USDataCenterHeatMapProps) {
  const [hoveredState, setHoveredState] = useState<string | null>(null);
  const [tooltipPos, setTooltipPos] = useState({ x: 0, y: 0 });

  const handleMouseEnter = (stateId: string, event: React.MouseEvent) => {
    setHoveredState(stateId);
    const rect = event.currentTarget.getBoundingClientRect();
    const svgRect = event.currentTarget.closest('svg')?.getBoundingClientRect();
    if (svgRect) {
      setTooltipPos({
        x: rect.left + rect.width / 2 - svgRect.left,
        y: rect.top - svgRect.top - 10,
      });
    }
  };

  const handleMouseLeave = () => {
    setHoveredState(null);
  };

  const stateNames: Record<string, string> = {
    AL: 'Alabama', AK: 'Alaska', AZ: 'Arizona', AR: 'Arkansas', CA: 'California',
    CO: 'Colorado', CT: 'Connecticut', DE: 'Delaware', FL: 'Florida', GA: 'Georgia',
    HI: 'Hawaii', ID: 'Idaho', IL: 'Illinois', IN: 'Indiana', IA: 'Iowa',
    KS: 'Kansas', KY: 'Kentucky', LA: 'Louisiana', ME: 'Maine', MD: 'Maryland',
    MA: 'Massachusetts', MI: 'Michigan', MN: 'Minnesota', MS: 'Mississippi', MO: 'Missouri',
    MT: 'Montana', NE: 'Nebraska', NV: 'Nevada', NH: 'New Hampshire', NJ: 'New Jersey',
    NM: 'New Mexico', NY: 'New York', NC: 'North Carolina', ND: 'North Dakota', OH: 'Ohio',
    OK: 'Oklahoma', OR: 'Oregon', PA: 'Pennsylvania', RI: 'Rhode Island', SC: 'South Carolina',
    SD: 'South Dakota', TN: 'Tennessee', TX: 'Texas', UT: 'Utah', VT: 'Vermont',
    VA: 'Virginia', WA: 'Washington', WV: 'West Virginia', WI: 'Wisconsin', WY: 'Wyoming',
    DC: 'District of Columbia',
  };

  return (
    <div className={`relative ${className}`}>
      {/* Map Container */}
      <div className="relative">
        <svg
          viewBox="0 0 960 600"
          className="w-full h-auto"
          style={{ maxHeight: '400px' }}
        >
          {/* Background */}
          <rect width="960" height="600" fill="#F8FAFC" />

          {/* State paths */}
          <g>
            {Object.entries(US_STATE_PATHS).map(([stateId, path]) => (
              <path
                key={stateId}
                d={path}
                fill={getStateColor(stateId)}
                stroke="#FFFFFF"
                strokeWidth="1.5"
                className="cursor-pointer transition-all duration-200 hover:brightness-110"
                onMouseEnter={(e) => handleMouseEnter(stateId, e)}
                onMouseLeave={handleMouseLeave}
              />
            ))}
          </g>
        </svg>

        {/* Tooltip */}
        {hoveredState && STATE_LOAD_DATA[hoveredState] && (
          <div
            className="absolute z-10 bg-white/95 backdrop-blur-sm px-3 py-2 rounded-lg shadow-lg border border-purple-200 text-sm pointer-events-none transform -translate-x-1/2 -translate-y-full"
            style={{ left: tooltipPos.x, top: tooltipPos.y }}
          >
            <p className="font-semibold text-gray-900">{stateNames[hoveredState]}</p>
            <p className="text-purple-700 font-medium">{STATE_LOAD_DATA[hoveredState].label} requested</p>
          </div>
        )}
      </div>

      {/* Legend */}
      <div className="mt-4 flex flex-wrap items-center justify-center gap-4 text-xs text-gray-600">
        <div className="flex items-center gap-2">
          <div className="flex">
            <div className="w-4 h-4 bg-purple-200 rounded-l" />
            <div className="w-4 h-4 bg-purple-400" />
            <div className="w-4 h-4 bg-purple-600" />
            <div className="w-4 h-4 bg-purple-900 rounded-r" />
          </div>
          <span>Low â†’ High demand</span>
        </div>
        <div className="text-gray-400">|</div>
        <div className="flex items-center gap-1">
          <span className="font-semibold text-purple-900">TX:</span>
          <span>230 GW</span>
        </div>
        <div className="flex items-center gap-1">
          <span className="font-semibold text-purple-800">VA:</span>
          <span>65 GW</span>
        </div>
        <div className="flex items-center gap-1">
          <span className="font-semibold text-purple-700">GA:</span>
          <span>51 GW</span>
        </div>
      </div>

      {/* Source attribution */}
      <p className="mt-2 text-center text-xs text-gray-400">
        Data: Utility interconnection queue requests (SemiAnalysis)
      </p>
    </div>
  );
}
